<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Excellentea: I2CIO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LOGO_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Excellentea
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A raspberryPI-controlled tea maker</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classI2CIO.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classI2CIO-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">I2CIO Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A basic IO library using the PCF8574 I2C IO Expander chip.  
 <a href="classI2CIO.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="I2CIO_8h_source.html">I2CIO.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a32eb7832075ad6011d67874405a0d0a6"><td class="memItemLeft" align="right" valign="top"><a id="a32eb7832075ad6011d67874405a0d0a6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#a32eb7832075ad6011d67874405a0d0a6">I2CIO</a> ()</td></tr>
<tr class="memdesc:a32eb7832075ad6011d67874405a0d0a6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Constructor method  Class constructor constructor. <br /></td></tr>
<tr class="separator:a32eb7832075ad6011d67874405a0d0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77cb2cafc430d2ecb16b780abbabf26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#ad77cb2cafc430d2ecb16b780abbabf26">begin</a> (const char *device, uint8_t i2cAddr)</td></tr>
<tr class="memdesc:ad77cb2cafc430d2ecb16b780abbabf26"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Initializes the device.  <a href="#ad77cb2cafc430d2ecb16b780abbabf26">More...</a><br /></td></tr>
<tr class="separator:ad77cb2cafc430d2ecb16b780abbabf26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b94274eb6bb68564cf5243323db887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#a53b94274eb6bb68564cf5243323db887">pinMode</a> (uint8_t pin, uint8_t dir)</td></tr>
<tr class="memdesc:a53b94274eb6bb68564cf5243323db887"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Sets the mode of a particular pin.  <a href="#a53b94274eb6bb68564cf5243323db887">More...</a><br /></td></tr>
<tr class="separator:a53b94274eb6bb68564cf5243323db887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0341888753bc54c4384f5593a870fb34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#a0341888753bc54c4384f5593a870fb34">portMode</a> (uint8_t dir)</td></tr>
<tr class="memdesc:a0341888753bc54c4384f5593a870fb34"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Sets all the pins of the device in a particular direction.  <a href="#a0341888753bc54c4384f5593a870fb34">More...</a><br /></td></tr>
<tr class="separator:a0341888753bc54c4384f5593a870fb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3db7bfc15ede0ae9e8c8bd44290ef7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#a7a3db7bfc15ede0ae9e8c8bd44290ef7">read</a> (void)</td></tr>
<tr class="memdesc:a7a3db7bfc15ede0ae9e8c8bd44290ef7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Reads all the pins of the device that are configured as INPUT.  <a href="#a7a3db7bfc15ede0ae9e8c8bd44290ef7">More...</a><br /></td></tr>
<tr class="separator:a7a3db7bfc15ede0ae9e8c8bd44290ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac26221011a8b49bcea9ef62712ea88a7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#ac26221011a8b49bcea9ef62712ea88a7">digitalRead</a> (uint8_t pin)</td></tr>
<tr class="memdesc:ac26221011a8b49bcea9ef62712ea88a7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Read a pin from the device.  <a href="#ac26221011a8b49bcea9ef62712ea88a7">More...</a><br /></td></tr>
<tr class="separator:ac26221011a8b49bcea9ef62712ea88a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2063569c927d0008e2593d14504fdcd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#ae2063569c927d0008e2593d14504fdcd">write</a> (uint8_t value)</td></tr>
<tr class="memdesc:ae2063569c927d0008e2593d14504fdcd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Write a value to the device.  <a href="#ae2063569c927d0008e2593d14504fdcd">More...</a><br /></td></tr>
<tr class="separator:ae2063569c927d0008e2593d14504fdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473206162522b847546777d16a7c6dcd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classI2CIO.html#a473206162522b847546777d16a7c6dcd">digitalWrite</a> (uint8_t pin, uint8_t level)</td></tr>
<tr class="memdesc:a473206162522b847546777d16a7c6dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br />
  Writes a digital level to a particular pin.  <a href="#a473206162522b847546777d16a7c6dcd">More...</a><br /></td></tr>
<tr class="separator:a473206162522b847546777d16a7c6dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abcd6f7f5f176f965d8ae535afa9f6cec"><td class="memItemLeft" align="right" valign="top"><a id="abcd6f7f5f176f965d8ae535afa9f6cec"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_shadow</b></td></tr>
<tr class="separator:abcd6f7f5f176f965d8ae535afa9f6cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283a99ef1c6f58fa8a0489089cba9682"><td class="memItemLeft" align="right" valign="top"><a id="a283a99ef1c6f58fa8a0489089cba9682"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_dirMask</b></td></tr>
<tr class="separator:a283a99ef1c6f58fa8a0489089cba9682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade58da873af4240a53053ef5f12a2728"><td class="memItemLeft" align="right" valign="top"><a id="ade58da873af4240a53053ef5f12a2728"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_i2cAddr</b></td></tr>
<tr class="separator:ade58da873af4240a53053ef5f12a2728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c566f3fd332eefe4db57cbe6b69337c"><td class="memItemLeft" align="right" valign="top"><a id="a8c566f3fd332eefe4db57cbe6b69337c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_initialised</b></td></tr>
<tr class="separator:a8c566f3fd332eefe4db57cbe6b69337c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66beb05b7d45b9cdcba7cf87a69d446e"><td class="memItemLeft" align="right" valign="top"><a id="a66beb05b7d45b9cdcba7cf87a69d446e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_fd</b></td></tr>
<tr class="separator:a66beb05b7d45b9cdcba7cf87a69d446e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">A basic IO library using the PCF8574 I2C IO Expander chip. </p>
<p class="">Created by Francisco Malpartida on 20/08/11. Copyright 2011 - Under creative commons license 3.0: Attribution-ShareAlike CC BY-SA</p>
<p class="">This software is furnished "as is", without technical support, and with no warranty, express or implied, as to its usefulness for any purpose.</p>
<p class="">Thread Safe: No Extendable: Yes</p>
<p class="">Implement a basic IO library to drive the PCF8574* I2C IO Expander ASIC. The library implements basic IO general methods to configure IO pin direction read and write uint8_t operations and basic pin level routines to set or read a particular IO port.</p>
<dl class="section version"><dt>Version</dt><dd>API 1.0.0</dd></dl>
<dl class="section author"><dt>Author</dt><dd>F. Malpartida - <a href="#" onclick="location.href='mai'+'lto:'+'fma'+'lp'+'art'+'id'+'a@g'+'ma'+'il.'+'co'+'m'; return false;">fmalp<span style="display: none;">.nosp@m.</span>arti<span style="display: none;">.nosp@m.</span>da@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad77cb2cafc430d2ecb16b780abbabf26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad77cb2cafc430d2ecb16b780abbabf26">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2CIO::begin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>i2cAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Initializes the device. </p>
<p class="">This method initializes the device allocating an I2C address. This method is the first method that should be call prior to calling any other method form this class. On initialization all pins are configured as INPUT on the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cAddr</td><td>I2C Address where the device is located. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the device was initialized correctly, 0 otherwise </dd></dl>

</div>
</div>
<a id="ac26221011a8b49bcea9ef62712ea88a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac26221011a8b49bcea9ef62712ea88a7">&#9670;&nbsp;</a></span>digitalRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t I2CIO::digitalRead </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Read a pin from the device. </p>
<p class="">Reads a particular pin from the device. To read a particular pin it has to be configured as INPUT. During initialization all pins are configured as INPUTs by default. Please refer to pinMode or portMode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin[in]</td><td>Pin from the port to read its status. Range (0..7) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the pin status (HIGH, LOW) if the pin is configured as an output, reading its value will always return LOW regardless of its real state. </dd></dl>

</div>
</div>
<a id="a473206162522b847546777d16a7c6dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473206162522b847546777d16a7c6dcd">&#9670;&nbsp;</a></span>digitalWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2CIO::digitalWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Writes a digital level to a particular pin. </p>
<p class="">Write a level to the indicated pin of the device. For this method to have effect, the pin has to be configured as OUTPUT using the pinMode or portMode methods.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin[in]</td><td>device pin to change level. Range (0..7).  level[in] logic level to set the pin at (HIGH, LOW). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 otherwise. </dd></dl>

</div>
</div>
<a id="a53b94274eb6bb68564cf5243323db887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53b94274eb6bb68564cf5243323db887">&#9670;&nbsp;</a></span>pinMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CIO::pinMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Sets the mode of a particular pin. </p>
<p class="">Sets the mode of a particular pin to INPUT, OUTPUT. digitalWrite has no effect on pins which are not declared as output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin[in]</td><td>Pin from the I2C IO expander to be configured. Range 0..7 </td></tr>
    <tr><td class="paramname">dir[in]</td><td>Pin direction (INPUT, OUTPUT). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0341888753bc54c4384f5593a870fb34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0341888753bc54c4384f5593a870fb34">&#9670;&nbsp;</a></span>portMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2CIO::portMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Sets all the pins of the device in a particular direction. </p>
<p class="">This method sets all the pins of the device in a particular direction. This method is useful to set all the pins of the device to be either inputs or outputs. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir[in]</td><td>Direction of all the pins of the device (INPUT, OUTPUT). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7a3db7bfc15ede0ae9e8c8bd44290ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3db7bfc15ede0ae9e8c8bd44290ef7">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t I2CIO::read </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Reads all the pins of the device that are configured as INPUT. </p>
<p class="">Reads from the device the status of the pins that are configured as INPUT. During initialization all pins are configured as INPUTs by default. Please refer to pinMode or portMode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2063569c927d0008e2593d14504fdcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2063569c927d0008e2593d14504fdcd">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2CIO::write </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><br />
  Write a value to the device. </p>
<p class="">Writes to a set of pins in the device. The value is the binary representation of all the pins in device. The value written is masked with the configuration of the direction of the pins; to change the state of a particular pin with this method, such pin has to be configured as OUTPUT using the portMode or pinMode methods. If no pins have been configured as OUTPUTs this method will have no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value[in]</td><td>value to be written to the device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 otherwise </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Classes/<a class="el" href="I2CIO_8h_source.html">I2CIO.h</a></li>
<li>Classes/I2CIO.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classI2CIO.html">I2CIO</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
